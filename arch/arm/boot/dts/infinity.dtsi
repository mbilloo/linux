// SPDX-License-Identifier: GPL-2.0-or-later
/*
 * Copyright (c) 2020 thingy.jp.
 * Author: Daniel Palmer <daniel@thingy.jp>
 */

#include "mstar-v7.dtsi"

/ {
	cpu0_opp_table: opp_table0 {
		compatible = "operating-points-v2";
		opp-shared;

		opp-100000000 {
			opp-hz = /bits/ 64 <100000000>;
			opp-microvolt = <1000000>;
			clock-latency-ns = <300000>;
		};

		opp-200000000 {
			opp-hz = /bits/ 64 <200000000>;
			opp-microvolt = <1000000>;
			clock-latency-ns = <300000>;
		};

		opp-400000000 {
			opp-hz = /bits/ 64 <400000000>;
			opp-microvolt = <1000000>;
			clock-latency-ns = <300000>;
		};
		opp-600000000 {
			opp-hz = /bits/ 64 <600000000>;
			opp-microvolt = <1000000>;
			clock-latency-ns = <300000>;
		};

		opp-800000000 {
			opp-hz = /bits/ 64 <800000000>;
			opp-microvolt = <1000000>;
			clock-latency-ns = <300000>;
		};
	};
};

&soc {
};

&cpu0 {
	operating-points-v2 = <&cpu0_opp_table>;
};

&gpio {
	compatible = "mstar,msc313e-gpio";
	gpio-ranges = <&pinctrl 0 36 22>,
		      <&pinctrl 22 63 4>,
		      <&pinctrl 26 68 6>;
	interrupt-parent = <&intc_fiq>;
	interrupt-names = "spi0_cz",
			  "spi0_ck",
			  "spi0_di",
			  "spi0_do";
	interrupts = <28 IRQ_TYPE_LEVEL_HIGH>,
		     <29 IRQ_TYPE_LEVEL_HIGH>,
		     <30 IRQ_TYPE_LEVEL_HIGH>,
		     <31 IRQ_TYPE_LEVEL_HIGH>;
	status = "okay";
};

&gpio_pm {
	compatible = "mstar,msc313-gpio-pm";
	interrupt-names = "pm_gpio4", "pm_sd_sdz";
	interrupts-extended = <&gpio_pm 0 6 IRQ_TYPE_LEVEL_HIGH>,
			      <&intc_fiq 23 IRQ_TYPE_LEVEL_HIGH>;
	status = "okay";
};
